# Database (Railway provides these automatically)
DATABASE_URL=postgresql://user:password@host:port/database
REDIS_URL=redis://default:password@host:port

# Railway Public URLs (if needed)
DATABASE_PUBLIC_URL=postgresql://user:password@host:port/database
REDIS_PUBLIC_URL=redis://default:password@host:port

# SendGrid Email Service
SENDGRID_API_KEY=your_sendgrid_api_key_here
SENDGRID_FROM_EMAIL=requests@yourdomain.com
SENDGRID_FROM_NAME=FOIA Request Team
SENDGRID_WEBHOOK_SECRET=your_webhook_verification_secret

# Notion Integration
NOTION_API_KEY=secret_your_notion_integration_key
NOTION_CASES_DATABASE_ID=your_notion_database_id

# AI Services
OPENAI_API_KEY=sk-your_openai_api_key
ANTHROPIC_API_KEY=sk-ant-your_anthropic_api_key

# Application Config
NODE_ENV=production
PORT=3000
WEBHOOK_BASE_URL=https://your-app.up.railway.app

# Optional: Slack Notifications
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/your/webhook/url

# Feature Flags
TESTING_MODE=false
DEFAULT_TEST_EMAIL=shadewofficial@gmail.com
ENABLE_AUTO_REPLY=true
ENABLE_AUTO_FOLLOWUP=true
AUTO_REPLY_CONFIDENCE_THRESHOLD=0.8

# Requester Info (for portal submissions)
REQUESTER_NAME=Your Name
REQUESTER_EMAIL=your.email@domain.com
REQUESTER_PHONE=
REQUESTER_ADDRESS=

# Portal Agent - Inbox for receiving verification codes (OTP emails)
REQUESTS_INBOX=requests@foib-request.com

# Follow-up Settings
MAX_FOLLOWUPS=2
FOLLOWUP_DELAY_DAYS=7
BUSINESS_HOURS_START=9
BUSINESS_HOURS_END=17

# LangGraph Agent Settings
USE_LANGGRAPH=false           # Feature flag: 'true' to use LangGraph, 'false' for legacy agent
LANGGRAPH_CHECKPOINTER=redis  # 'redis' or 'memory' (memory not recommended for production)
LANGGRAPH_MAX_ITERATIONS=5    # Max iterations to prevent runaway loops
AGENT_WORKER_CONCURRENCY=1    # Number of concurrent agent jobs (1 recommended)
AGENT_LOCK_DURATION=300000    # Lock duration in ms (5 minutes default)

# Fee Auto-Approval
FEE_AUTO_APPROVE_MAX=100      # Max fee amount for auto-approval in USD
